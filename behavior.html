<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Shiny Dashboard Behavior</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>



<link rel="stylesheet" href="custom.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
</style>
<div class="container-fluid main-container">

<!--html_preserve-->

<div class="header">
  <nav class="navbar">
      <h3 class="navbar-left"><strong>shinydashboard</strong></h3>
      <ul class="nav nav-pills navbar-right">
        <li role="presentation" id="nav-home"><a href="index.html">Home</a></li>
        <li role="presentation" id="nav-get-started"><a href="get_started.html">Get started</a></li>
        <li role="presentation" id="nav-structure"><a href="structure.html">Structure</a></li>
        <li role="presentation" id="nav-appearance"><a href="appearance.html">Appearance</a></li>
        <li role="presentation" id="nav-behavior"><a href="behavior.html">Behavior</a></li>
        <li role="presentation" id="nav-examples"><a href="examples.html">Examples</a></li>
        <li role="presentation" id="nav-github"><a href="https://github.com/rstudio/shinydashboard">GitHub</a></li>
      </ul>
  </nav>
</div>

<hr>

<div id="page-body">

<!--/html_preserve-->

<div id="header">
<h1 class="title">Shiny Dashboard Behavior</h1>
</div>

<div class="row">
<div class="col-sm-3">
<div id="TOC">
<ul>
<li><a href="#shinydashboard-mechanics-and-interactivity"><code>shinydashboard</code> mechanics and interactivity</a><ul>
<li><a href="#shinydashboard-specific-components"><code>shinydashboard</code>-specific components</a><ul>
<li><a href="#a-caveat-about-dropdownmenus">A caveat about <code>dropdownMenu</code>s</a></li>
</ul></li>
<li><a href="#bookmarking">Bookmarking</a></li>
</ul></li>
</ul>
</div>
</div>
<div class="col-sm-9 pull-right">

<div id="shinydashboard-mechanics-and-interactivity" class="section level1">
<h1><code>shinydashboard</code> mechanics and interactivity</h1>
<p>Shinydashboard supports all the normal interactive functionality that Shiny does. If you need a refresher on all the interactive capabilities of Shiny (through inputs, outputs, reactives, etc), take a look at <a href="https://shiny.rstudio.com/articles/">our website’s articles</a>.</p>
<div id="shinydashboard-specific-components" class="section level2">
<h2><code>shinydashboard</code>-specific components</h2>
<div id="a-caveat-about-dropdownmenus" class="section level3">
<h3>A caveat about <code>dropdownMenu</code>s</h3>
<p>While it is possible to render dynamic dropdown menus, it’s not possible to treat them as inputs. For exmaple, you can re-render a dynamic dropdown menu if the data changes</p>
<p>However, there is no current way to see if the user clicked on one of the items in a dropdown menu.</p>
</div>
</div>
<div id="bookmarking" class="section level2">
<h2>Bookmarking</h2>
<hr />
<p>Here’s where we’re at right now:</p>
<ul>
<li><p>As Winston said above, it isn’t currently possible to get the currently selected <code>notificationItem()</code> (or, for that matter, <code>messageItem()</code> or <code>taskItem()</code>). It might make sense to add an <code>id</code> param to the <code>dropdownMenu()</code> function and set a Shiny input with that <code>id</code>. To get this working properly (and play nice with bookmarking, document, etc.) is a reasonable amount of work, so we’re not doing it for the upcoming release (May 2017). I opened another issue targeted specifically at this, with some ideas of what we’d want to do for that feature: #208</p></li>
<li><p>As Winston also said, it’s already possible to find the currently-selected <code>menuItem()</code> or <code>menuSubItem()</code>, if the <code>sidebarMenu()</code> has an <code>id</code>, and the <code>menuItem()</code>/<code>menuSubItem()</code> has a <code>tabName</code>.</p></li>
</ul>
<details> <summary>Here’s an example (<strong>click on the arrow to show the code</strong>).
<p>
Notice that no <code>tabItems( tabItem(), tabItem(), … )</code> is used in this app, even though all childless <code>menuItem()</code>s and <code>menuSubItem()</code>s have a <code>tabName</code> argument.
</p>
<p></summary></p>
<p>```r library(shiny) library(shinydashboard)</p>
<p>ui &lt;- dashboardPage( dashboardHeader(), dashboardSidebar( sidebarMenu( # Setting id makes input$tabs give the tabName of currently-selected tab id = “tabs”,</p>
<pre><code>    menuItem(&quot;Dashboard&quot;, tabName = &quot;dashboard&quot;, icon = icon(&quot;dashboard&quot;)),
    menuItem(&quot;Widgets&quot;, icon = icon(&quot;th&quot;), tabName = &quot;widgets&quot;, badgeLabel = &quot;new&quot;),
    menuItem(&quot;Charts&quot;, icon = icon(&quot;bar-chart-o&quot;),
      menuSubItem(&quot;Sub-item 1&quot;, tabName = &quot;subitem1&quot;),
      menuSubItem(&quot;Sub-item 2&quot;, tabName = &quot;subitem2&quot;)
    )
  )
),
dashboardBody(
  textOutput(&quot;res&quot;)
)</code></pre>
<p>)</p>
<p>server &lt;- function(input, output, session) { output<span class="math inline">$res &lt;- renderText({  paste(&quot;You've selected:&quot;, input$</span>tabs) }) }</p>
<p>shinyApp(ui, server) ```</p>
<p></details> <br></p>
<p><strong>Caveats</strong>: - As mentioned, <code>sidebarMenu()</code> must take in an <code>id</code>. For example if you pass in <code>id = &quot;tabs&quot;</code>, then, anywhere in the server function, you can know which <code>menuItem()</code> (or <code>menuSubItem()</code>) is selected by accessing <code>input$tabs</code>.</p>
<ul>
<li>Childless <code>menuItem()</code>s (and <code>menuSubItem()</code>s) v childfull <code>menuItem()</code>s behave differently and there’s different arguments that apply to either:
<ul>
<li>Childless <code>menuItem()</code>s/<code>menuSubItem()</code>s must be given a <code>tabName</code> param; in addition, <em>one</em> of these can have <code>selected = TRUE</code>, which lets Shiny know that you want <code>input$tabs</code> to start out this that item’s <code>tabName</code> on app startup (if you specified a <code>tabItem()</code> for that <code>tabName</code>, that will what you first see in the dashboard body when you launch your app).</li>
<li>“Childfull” <code>menuItem()</code>s cannot have a <code>tabName</code> or a <code>selected</code> argument (or rather, they can, but this will be completely ignored by Shiny). Instead (and once #199 is merged), at most, <em>one</em> of them can take a <code>startExpanded = TRUE</code>, which tells Shiny to start up with that <code>menuItem()</code> expanded, i.e. revealing all its children. (The reason that, at most, only one childfull <code>menuItem()</code> can start expanded is because in general in AdminLTE, only one thing can be expanded in the sidebar at any one time). In alternative to <code>tabName</code>, you can pass in an <code>expandedName</code>, which is how Shiny lets you know which (if any) <code>menuItem()</code> is currently expanded (more on that below, and note that this also required #199 to have been merged).</li>
</ul></li>
<li><em>This last one is more of a <strong>bonus (!!)</strong> than a caveat, but oh well…</em> Once #199 is merged, you also get a couple of other things “for free” (no need to add an <code>id</code> or anything, like above):
<ul>
<li><p>There’s an automatic way to access which childfull <code>menuItem()</code> (if any) is currently expanded. Anywhere on your server function use <code>input$sidebarItemExpanded</code> to get the <code>expandedName</code> of the currently expanded <code>menuItem()</code> (or <code>NULL</code> is none is currently expanded). (Don’t worry: even if you don’t pass in an <code>expandedName</code>, Shiny has a sensible default – it will construct one for you by taking the mandatory <code>text</code> argument you passed and removing all white space.) You can use <code>input$sidebarItemExpanded</code> as any other input, including making other UI elements conditional on it. And the cherry on top: since you get this input “for free,” you also get bookmarking of this input “for free.” (I.e. the bookmarked URL will capture which, if any, <code>menuItem()</code> was expanded and on restore, it will expand the same).</p></li>
<li><p>Similarly, there is also an automatic way to access whether the whole sidebar is expanded or collapsed at the moment. Use <code>input$sidebarCollapsed</code> to know if the sidebar is collapsed (<code>&quot;true&quot;</code>) or expanded (<code>&quot;false&quot;</code>). While this may seem less interesting than the former, it is mostly useful for bookmarking. (I.e. the bookmarked URL will capture whether the sidebar is collapsed or expanded and, on restore, it will have the same value and look).</p></li>
</ul></li>
</ul>
<hr />
<p>So, TLDR:</p>
<ul>
<li>the original ask for <code>menuItem()</code>s is already possible;</li>
<li>the original ask for <code>notificationItem()</code>s (and their message and task counterparts) is sketched out in #208 for future development;</li>
<li>there’s a few caveats, as well as extra goodies that come in once #199 is merged.</li>
</ul>
</div>
</div>

</div>
</div>

</div> <!-- page-body -->

<hr>

<footer>
  <div>&nbsp;</div>
  <div>&nbsp;</div>
  <div class="text-muted">
  Copyright &copy; 2014 RStudio, Inc.
  </div>
</footer>

<script>
// manage active state of headres and navigation based on current page
$(document).ready(function () {

  // compute name of page
  href = window.location.pathname;
  href = href.substr(href.lastIndexOf('/') + 1);
  if (href == "")
    href = "index.html";

  var pagelinks = {
    "index.html": "#nav-home",
    "get_started.html": "#nav-get-started",
    "structure.html": "#nav-structure",
    "appearance.html": "#nav-appearance",
    "behavior.html": "#nav-behavior",
    "examples.html": "#nav-examples"
  };

  if (pagelinks[href]) {
    $(pagelinks[href]).addClass('active');
  }

  $('.title').addClass('hidden');

  // Set up the table of contents
  var $toc = $('#TOC');
  if ($toc.length > 0) {
    $('#TOC').find('ul').addClass('nav');

    var TOCoffset = $('#TOC').offset();
    TOCoffset.top -= 15;
    $('#TOC').affix({
        offset: TOCoffset
    });
  }

});
</script>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
